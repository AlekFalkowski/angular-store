@import "all-config";

$nav-drawer-content-width: 320px; // RELATED CONST in JS: #_navDrawerContentWidth

app-layout {
    contain: inline-size style;
    overflow-x: clip;
    min-width: $app-min-width;
    min-height: 100dvh;
    display: flex;
    flex-direction: column;
    background-color: var(--md-sys-color-surface);

    & > [data-e="loading-cover"] {
        z-index: $loading-cover-z-index;
        contain: layout paint size style;
        position: fixed;
        inset: 0;
        display: flex;
        justify-content: center;
        padding-top: 20lvh;
        background-color: var(--md-sys-color-surface);
        opacity: 0;
        visibility: hidden;
        pointer-events: none;
        transition-property: opacity, visibility;
        transition-duration: 200ms;
    }

    // NAV DRAWER WINDOW
    & > [data-e="nav-drawer"] {
        z-index: $nav-drawer-z-index;
        overflow-y: auto;
        overscroll-behavior: contain;
        position: fixed;
        top: 0;
        width: $nav-drawer-content-width;
        height: 100dvh;
        background-color: var(--md-sys-color-surface-container-low);
        & > [data-e="close-button"] {
            grid-column: 2;
            grid-row: 1;
            position: absolute;
            inset-inline-end: 8px;
            top: 8px;
        }
    }
    & > [data-e="nav-drawer"]:modal {
        display: block;
    }

    // NAV DRAWER BACKDROP
    & > [data-e="nav-drawer"]::backdrop {
        background-color: rgb(0 0 0 / 50%);
        transition: background-color 0.2s;
    }
    & > [data-e="nav-drawer"].is-starting::backdrop,
    & > [data-e="nav-drawer"].is-closing::backdrop {
        background-color: rgb(0 0 0 / 0%);
    }
}

app-layout.loading {

    & > [data-e="loading-cover"] {
        opacity: 1;
        pointer-events: auto;
        visibility: visible;
    }
}
